<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>Profil Pengguna</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <div *ngIf="user; else loading" class="profile-container">
    <!-- Profile Header with Avatar -->
    <div class="profile-header">
      <ion-avatar class="profile-avatar">
        <img [src]="user.avatar || 'assets/avatar.jpg'" alt="Profile Avatar" />
      </ion-avatar>
      <div class="profile-info">
        <h2>{{ user.name }}</h2>
        <p>{{ user.email }}</p>
        <p class="user-role">{{ user.role }}</p>
      </div>
    </div>

    <!-- Profile Details -->
    <ion-card class="profile-card">
      <ion-card-header>
        <ion-card-title>Informasi Profil</ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <ion-item>
          <ion-label>Dibuat:</ion-label>
          <ion-text>{{ user.created_at | date: 'medium' }}</ion-text>
        </ion-item>
      </ion-card-content>
    </ion-card>

    <!-- Logout Button -->
    <div class="logout-button">
      <ion-button expand="full" color="danger" (click)="logout()">Logout</ion-button>
    </div>
  </div>

  <!-- Loading State -->
  <ng-template #loading>
    <ion-spinner></ion-spinner>
    <p>Memuat data pengguna...</p>
  </ng-template>
</ion-content>
